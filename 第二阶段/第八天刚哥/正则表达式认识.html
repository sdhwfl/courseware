<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="author" content="charles">
		<title>正则表达式认识</title>
		<style>
         
		</style>
	</head>

	<body>
		<input type="text" id="phone" placeholder="请输入11位手机号">
		<input type="text" id="identifier" placeholder="请输入正确的身份证号">
		<button type="" onclick="btnclicked()">点击验证</button>
		<script>
			// 定义两个变量，用于记录手机号和身份证号的验证情况
			var phoneRight =false;
			var idRight =false;

			function checkPhone() {
				var phone = document.getElementById('phone').value;
				if(!(/^1[3|4|5|7|8]\d{9}$/.test(phone))) {
					alert("手机号码有误，请重填");
					return false;
				} else {
					phoneRight = true;
				}
			}

			function checkID() {
				var ID = document.getElementById('identifier').value;
				// 身份证号码为15位或者18位，15位时全为数字，18位前17位为数字，最后一位是校验位，可能为数字或字符X  
				var reg = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;
				if(reg.test(ID) === false) {
					alert("身份证输入不合法");
					return false;
				} else {
					idRight = true;
				}
			}
			//此处一个button可以验证两个输入框的值
			function btnclicked() {
				checkPhone();
				checkID();

				if(phoneRight == true && idRight == true) {
					alert('恭喜你完成验证！');
				}

			}
		</script>
	</body>

</html>