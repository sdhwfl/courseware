<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="author" content="charles">
        <title>this</title>
        <style>
            
        </style>
    </head>
    <body>
        testbody
        <div>div</div>
        <p>p</p>
        <script>
            // 1、window是顶级的，一般this都指向window。
            // function testThis(){
            //     alert(this);//this:window
            // }
            // testThis();

            // 2、有绑定了事件的子元素的时候，this指向触发事件的那个元素
            // 给body添加点击事件
            // document.body.onclick = function(){
            //     alert(this);//body
            // }

            // document.getElementsByTagName('div')[0].onclick = function(){
            //     alert(this);//div
            // }

            // document.getElementsByTagName('p')[0].onclick = function(){
            //     alert(this);//p
            // }

            // 3、在对象中,this是对象本身
            // var person = {
            //     name:'小明',
            //     age:'16',
            //     study:function(){
            //         alert(this);
            //         console.log(this);
            //         // 此处的this，是对象本身
            //     }
            // }
            // person.study();

            // 4、在构造函数中,this是指创建出来的新对象
            // 构造函数，其实就创建对象的最初始的那个方法，你可以在方法中执行一些初始化操作
            // function People(){
            //     alert(this);
            //     console.log(this);
            //     this.sex = '男';
            //     this.guoji = 'China';
            // }
            // // 使用构造函数创建一个对象，这个对象默认带有两个属性，sex和guoji
            // var aPeople = new People();

            //练习
            var  name = 'xiaili';
            var age = 18;
            function test(){
                console.log(this);//window
                this.name = 'xiaoxia';
                this.age = 16;
                console.log(this);//window
                // 当成普通函数调用的时候，this指向的是window；当成构造函数调用的时候，this指向的是新创建的对象。
            }
            // test();普通的函数调用
            var objc = new test();

            // 总结：this指向的对象只有两个，一个是window，一个是对象本身
            /* http://www.ibm.com/developerworks/cn/web/1207_wangqf_jsthis/
                http://www.ruanyifeng.com/blog/2010/04/using_this_keyword_in_javascript.html
                https://segmentfault.com/a/1190000003046071 */
        </script>
    </body>
</html>